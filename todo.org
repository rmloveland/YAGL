#+title: YAGL TODOs
#+author: Rich Loveland
#+email: r@rmloveland.com

* Current

** TODO Release to github and CPAN

*** DOING Write documentation

    In particular, this file should have:

    - [ ] An overview section that orients the reader
    - [ ] Lots of explicit references to the books, etc., that were
      used in the making of

**** TODO Add links to references in documentation
** TODO Add more tests to =hamiltonian_walk= method to exercise state mgmt

   I have found a number of bugs when using a =state= variable, where
   it wasn't getting cleared between calls to the method.

   E.g., see the way =exhaustive_search= was rewritten to use an
   internal helper subroutine that does recursive self-calls.

   So the tasks are:

   - [ ] Adding more tests that exercise state, esp. via multiple
     method calls on different graphs
   - [ ] Probably rewriting =_visit=, as mentioned in the subtask
     below.

*** TODO Rewrite =_visit= to avoid keeping internal state across method calls

    See the rewritten =exhaustive_search= for details of how to do
    this.

** DOING Allow for directed graphs option

   This will require:

   - Passing an is_directed flag or similar
   - Some changes to the internal representation
   - Probably many other things

*** TODO Review all methods to see which work on directed and/or undirected graphs

    Each method should do at least one of the following:

    - [ ] Work on directed *and* undirected graphs
    - [ ] Work on directed graphs and warn/error on undirected graphs
    - [ ] Warn/error on directed graphs and work on undirected graphs

      
    The work here is to review each existing method and verify that
    they meet the above criteria.  If not, create specific TODO items
    here for each method that needs updating.

*** TODO Add tests that exercise the "directedness" properties

** DOING Minimum spanning tree

   ... for weighted, undirected graphs

* Staging

* Someday/Maybe

** TODO csv: write a specification for the serialization format

   As the [[csv: unweighted graphs should have -1 in the weight column]]
   TODO item shows, there are edge cases in the format that have not
   been thought through.

** TODO csv: unweighted graphs should have -1 in the weight column
   
** TODO Should =get_edge(s)= *only* return a list of edges (not edge attributes)?

** TODO Implement =is_isomorphic()= method

** TODO Implement =is_subgraph()= method

** TODO Research property based testing

** TODO Optimize CSV format

   It would be nice not to require duplicate entries (except perhaps
   for undirected graphs?).

   It would also be nice to have some way to store:

   - Arbitrary edge attributes
   - Arbitrary vertex attributes
     
   Should we be able to open in Excel and do "things" with it?

   High-level goal: pass serialized graph representation via CSV to
   graph library implementations in other languages.

** TODO Write example applications that use graph algorithms

** TODO Create and release a YAGL distribution

   - Dist::Zilla?
   - Module::Starter::PBP?

** TODO Rename $self->edge_between('A', 'B') to $self->has_edge('A', 'B') ?

   This would need to be part of a larger rethinking of names.

** TODO Consider removing non-core dependencies

   It would be nice to be able to run this bad girl on a core Perl
   install on any machine, including with older versions of Perl.

   Right now the non-core dependencies are:

   - Smart::Match
   - Hash::PriorityQueue
     
   Estimated scope of work is:

   - Assess usage of these modules
   - See what smart-matching alternatives exist (if any)
   - See if it's even worth doing, since it might not be worth caring
     that much about this, more of a nice-to-have.
   
** TODO Devise a consistent method naming scheme

   e.g., Should we rename 'get_vertices' to just 'vertices' ?

   Looks like [[~/Dropbox/Documents/conway-perl-best-practices.chm]] says
   no.  It recommends calling things =get_foo()= and =set_foo()=.
   
** TODO Refactor (and document!) =_st_add()= and friends

   These are pretty janky and make e.g. the core of Dijkstra kinda
   hard to read.

   Also, they don't have any docs explaining the core data structure
   they're using, which is basically a linked list.

   Also, they really need a redesign to be more general and reusable.

** TODO add $self->has_path() method

   Return a boolean instead of the paths as arrays.

   Ideally this should be optimized to be a much cheaper check than to
   generate all the paths and then throw them away.

** TODO add $self->paths('a', 'b') method

   Given two vertices 'A' and 'B', return one or all of:

   - all of the possible paths between them, as arrays

   - the # of possible paths between them.  This could also be called
     =$self->connectivity('A', 'B')=

** TODO Replace ad hoc internal spanning tree implementation with a proper Graph object

   In order for this to work, a graph needs to know whether it is a tree, which means it needs:

   - [ ] g->is_tree method
   - [ ] g->is_connected

   Further, you will need a way to walk the tree, which requires:

  - [ ] g->vertex->prev method
    - This will replaces the current =$st->{$vertex}->{prev}=
      ad-hoc-ness

** TODO Implement vertex merging

   This is a prerequisite for graph coloring (at least one method,
   that is).

* To File

** TODO Add benchmarks to testing

** TODO Add network flow algorithms

** TODO Methods should have checks to bail/error as soon as possible

   This includes:

   - Early false returns of the form =return () unless ...= for
     preconditions, including validity checks as well as mathematical
     preconditions, such as for planarity or Hamiltonian walks
   
** TODO Add =k_cliques= method ?

   Perhaps this should use the regular expression hack described in
   http://home.hiwaay.net/~gbacon/perl/clique.html ?

** TODO Can =hamiltonian_walk= be repurposed to do TSP approximation?

   According to what I'm reading in Vazirani, the answer seems to be
   yes.

   However, we will need to test this hypothesis.  Estimated work
   would be something like:

   - [ ] Get some kind of known TSP data to test with (TSPLIB?)
   - [ ] Write tests, see how good the approximation is (or if it even
     works at all)
   - [ ] Bonus: read in/convert TSPLIB files?

** TODO Update CSV reader to update header format, handle comments better

   I would like to update the CSV reader/writer to:

   - Skip commented out lines
   - Write out headers as commented out lines (e.g., =# node,weight,directed=)
   - Read in headers with commented out lines
   - No longer use the current hack where it skips lines with the
     string 'node' (IIRC)
   - =write_csv= method should take a 'description' argument that
     becomes the commented-out header line, e.g.,
     
     #+BEGIN_SRC perl
       $g->write_csv(description => qq[This is the graph from figure 44-1 in Sedgewick 2e]);
     #+END_SRC
